<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE: Guide to building OGRE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OGRE
   &#160;<span id="projectnumber">1.12.1</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('building-ogre.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Guide to building OGRE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> uses <a href="https://cmake.org/">CMake</a> as its build system on all supported platforms. This guide will explain to you how to use CMake to build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> from source. You need a CMake version &gt;= 3.3.</p>
<h2>What is CMake? </h2>
<p>CMake is a cross-platform build system - or perhaps more accurately a build configurator. It is a program which, from a set of CMake scripts, creates a native build system for your platform that allows you to build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a>. The build process is configurable via CMake. <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> provides several options which you can use to customise your build.</p>
<h2>Preparing the build environment </h2>
<p>You should now create a build directory for <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> somewhere outside <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a>'s sources. This is the directory where CMake will create the build system for your chosen platform and compiler, and this is also where the <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> libraries will be compiled. This way, the <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> source dir stays clean, and you can have multiple build directories all working from the same <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> source.</p>
<h2>Getting dependencies </h2>
<p>By default ogre will build the essential dependencies automatically when you run cmake the first time. If you would rather use system wide libraries set <code>OGRE_BUILD_DEPENDENCIES=OFF</code>.</p>
<p><a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> will install the dependencies into the subfolder <code>Dependencies</code> in the build dir by default. You can configure it by setting <code>OGRE_DEPENDENCIES_DIR</code> in cmake. For instance to point to a common dependencies folder for all of your projects. Inside this directory you must have the subdirectories bin, lib and include where you place .dll, .lib and header files of the dependencies, respectively</p>
<p>On linux you additionally need the following system headers to build the GL RenderSystems (command for Ubuntu): </p><pre class="fragment">sudo apt-get install libgles2-mesa-dev libxt-dev libxaw7-dev
</pre><p>furthermore we recommend installing the following optional packages </p><pre class="fragment">sudo apt-get install nvidia-cg-toolkit libsdl2-dev doxygen
</pre><p>these will enable input handling in the SampleBrowser and building the documentation.</p>
<p>If you cannot obtain prebuilt binaries of a dependency for your platform, please refer to the list below and get a source package from the website, then build it according to its documentation.</p>
<h3>Essential dependencies:</h3>
<ul>
<li>freetype: <a href="http://www.freetype.org">http://www.freetype.org</a></li>
</ul>
<h3>Recommended dependencies:</h3>
<ul>
<li>zlib: <a href="http://www.zlib.net">http://www.zlib.net</a></li>
<li>zziplib: <a href="https://github.com/gdraheim/zziplib">https://github.com/gdraheim/zziplib</a></li>
<li>pugixml: <a href="https://github.com/zeux/pugixml">https://github.com/zeux/pugixml</a></li>
<li>SDL: <a href="https://www.libsdl.org/">https://www.libsdl.org/</a></li>
</ul>
<h3>Optional dependencies:</h3>
<ul>
<li>DirectX SDK: <a href="http://msdn.microsoft.com/en-us/directx/">http://msdn.microsoft.com/en-us/directx/</a></li>
<li>FreeImage: <a href="http://freeimage.sourceforge.net">http://freeimage.sourceforge.net</a></li>
<li>Doxygen: <a href="http://doxygen.org">http://doxygen.org</a></li>
<li>Cg: <a href="http://developer.nvidia.com/object/cg_toolkit.html">http://developer.nvidia.com/object/cg_toolkit.html</a></li>
<li>Remotery: <a href="https://github.com/Celtoys/Remotery">https://github.com/Celtoys/Remotery</a></li>
<li>Boost: <a href="http://www.boost.org">http://www.boost.org</a> (+)</li>
<li>POCO: <a href="http://pocoproject.org">http://pocoproject.org</a> (+)</li>
<li>TBB: <a href="http://www.threadingbuildingblocks.org">http://www.threadingbuildingblocks.org</a> (+)</li>
</ul>
<p>(+) can be used for threading instead of <code>std::thread</code></p>
<h2>Running CMake </h2>
<p>Now start the program cmake-gui by either typing the name in a console or selecting it from the start menu. In the field <em>Where is the source code</em> enter the path to the <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> source directory (the directory which contains this file). In the field <em>Where to build the binaries</em> enter the path to the build directory you created. Hit <em>Configure</em>. A dialogue will appear asking you to select a generator.</p>
<p>Check the <a href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">CMake documentation</a> for details on which one is appropriate for your platform and compiler. </p><dl class="section note"><dt>Note</dt><dd>on OSX, you must to use the Xcode generator to get a proper SampleBrowser .app bundle.</dd></dl>
<p>Click <em>Finish</em>. CMake will now gather some information about your build environment and try to locate the dependencies. It will then show a list of build options. You can adjust the settings to your liking;</p><ul>
<li>unchecking any of the <code>OGRE_BUILD_XXX</code> options will disable that particular component/ plugin from being built</li>
<li><code>OGRE_CONFIG_XXX</code> on the other hand allows you to configure Core features e.g. threading or zip file support.</li>
<li><code>OGRE_CONFIG_NODE_INHERIT_TRANSFORM</code> enables shearing and non-uniform scaling for <a class="el" href="class_ogre_1_1_scene_node.html" title="Class representing a node in the scene graph. ">Ogre::SceneNode</a>. This requires slightly more storage and computation time.</li>
<li><code>OGRE_PROFILING</code> add profiling instrumentation the ogre library.</li>
<li><code>OGRE_PROFILING_REMOTERY_PATH</code> if set, Remotery is used for profiling instead of the <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> internal profiler.</li>
<li><code>OGRE_ASSERT_MODE</code> allows you to to disable all runtime assertion exceptions or turn them into calls to <code>std::abort</code>.</li>
<li><code>OGRE_RESOURCEMANGER_STRICT</code> allows you to turn on resource lookup related quirks for pre ogre 1.10 compatibility.</li>
</ul>
<p>Once you are satisfied, hit <em>Configure</em> again and then click on <em>Generate</em>. CMake will then create the build system for you.</p>
<h2>Building </h2>
<p>Go to your chosen build directory. CMake has generated a build system for you which you will now use to build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a>. If you are using Visual Studio, you should find the file OGRE.sln. Open it and compile the target <em>BUILD_ALL</em>. Similarly you will find an Xcode project to build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> on MacOS.</p>
<p>If you rather want to trigger the build form a console, then cd to your build directory and call the appropriate make program as </p><pre class="fragment">cmake --build . --config release
</pre><p>to start the build process.</p>
<p>If you have doxygen installed and CMake picked it up, then there will be an additional build target called <em>OgreDoc</em> which you can optionally build. This will freshly generate the API documentation for <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a>'s classes from the header files. In Visual Studio, just select and build the target <em>OgreDoc</em>, on Linux type: </p><pre class="fragment"> make OgreDoc
</pre><h2>Installing </h2>
<p>Once the build is complete, you can optionally have the build system copy the built libraries and headers to a clean location. We recommend you do this step as it will make it easier to use <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> in your projects. In Visual Studio, just select and build the target <em>INSTALL</em>. When using the command line with MSVC, type: </p><pre class="fragment">cmake --build . --config release --target INSTALL
</pre><p>For Makefile based generators, type: </p><pre class="fragment">make install  # (or sudo make install, if root privileges are required)
</pre><p>On Linux <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> will be installed to <code>/usr/local</code> by default. On Windows this will create the folder <code>sdk</code> inside your build directory and copy all the required libraries there. You can change the install location by changing the variable <code>CMAKE_INSTALL_PREFIX</code> in CMake.</p>
<h2>Building on Ubuntu for Android </h2>
<p>To build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> for Android, you need to specify the android cross toolchain to cmake as </p><pre class="fragment">cmake -DCMAKE_TOOLCHAIN_FILE=path/to/android-ndk/build/cmake/android.toolchain.cmake -DANDROID_NDK=path/to/android-ndk .
</pre><p>this will build the core <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> libraries. Additionally it will create gradle projects <code>OgreJNI</code> for using Java bindings and <code>SampleBrowserNDK</code> for the C++ only Sample Browser.</p>
<p>You can now import these projects in Android Studio or manually trigger the APK creation by changing into the project folders and running </p><pre class="fragment">gradle assembleRelease
</pre><h2>Building for WebAssembly (using Emscripten) </h2>
<p>Install the Emscripten SDK (see full documentation on <a href="https://emscripten.org/docs/getting_started/downloads.html">www.emscripten.org</a>), and make sure that the environment variables are correctly set (eg. run source &lt;emsdk_path&gt;/emsdk_env.sh before attempting to build)</p>
<p>Run cmake in cross compile mode using emscripten as following: </p><pre class="fragment">mkdir build-wasm
emcmake cmake .. -DCMAKE_BUILD_TYPE=Release
emmake make
</pre><p>NB: to simplify the process, 'emcmake' and 'emmake' wrappers are used. These tools are provided by Emscripten to correctly setup the cross compilation environment</p>
<p>This will not build the full SampleBrowser, but just a minimal Sample. The resulting <code>EmscriptenSample.html</code> will be placed in <code>${CMAKE_BINARY_DIR}/bin/</code>.</p>
<p>To prevent any cross-origin issues, start a local webserver as <code>python3 -m http.server 8000</code> and visit <a href="http://localhost:8000">http://localhost:8000</a>.</p>
<h2>Building on Mac OS X for iOS OS </h2>
<p>To build <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> for iOS, you need to specify the ios cross toolchain to cmake as </p><pre class="fragment">cmake -DCMAKE_TOOLCHAIN_FILE=CMake/toolchain/ios.toolchain.xcode.cmake -G Xcode .
</pre><p>Unfortunately, you will now have to do a few manual steps to make the generated build system work properly.</p>
<p>A Xcode project has now been generated in the build directory, so to start the <a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> build, open OGRE.xcodeproj and build as usual. To run samples on your device you will need to have a valid iOS Developer certificate installed. For each sample, double click on target in the Groups &amp; Files list. Ensure that a valid identity is selected in the Code Signing Identity drop menu. Also, because we can't tell CMake what Xcode project format you want, you will have to change it yourself. Open the Project Menu, choose Edit Project Settings. Click on the General tab in the settings window. Change Project Format to Xcode 3.1-compatible. And another thing. You will need to manually set the Bundle Identifier property of the Info.plist file to match the App ID of the chosen code signing identity. This can be done from the Target Properties panel. It must match the bundle identifier of a valid developer certificate if you are building for devices.</p>
<h2>Building as Windows Store or Windows Phone application </h2>
<p>You need Windows 8.0 or later, Windows 10 is recommended.</p>
<p>You need Visual Studio 2012 or later, Visual Studio 2015 is recommended as it is bundled with Universal 10.0.240.0, WinStore 8.0/8.1 and WinPhone 8.0/8.1 SDKs.</p>
<p>Download and install CMake 3.4 or later.</p>
<p>Patched dependencies must be used, compiled with appropriate WINAPI_FAMILY. Cg is not supported. You can use <a href="https://bitbucket.org/eugene_gff/ogre-dependencies-winrt">https://bitbucket.org/eugene_gff/ogre-dependencies-winrt</a> - has VS2012 and VS2013 projects for Win32, WinRT (can be reused for WinPhone) Compile dependencies for all configurations that you plan to use before running CMake. Dependencies for Win32 and for WinRT must be located in separate folders, Win32 version can be built from OgreDependencies.VS201x.sln, WinRT from OgreDependencies.VS201x.WinRT.sln</p>
<p>Run CMake, specify source and binaries folders, than "Configure", select "Visual Studio 14 2015" generator and "Specify options for cross-compiling" option, specify Operating System = "WindowsStore" or "WindowsPhone", Version = "8.0", "8.1" or for UAP Operating System = "WindowsStore", Version = "10.0.10240.0", "10.0.10586.0" then "Finish", specify WinRT dependencies folder for OGRE_DEPENDENCIES_DIR, "Configure", should be no more errors, then press "Generate".</p>
<p>Select SampleBrowser as the start up project and run.</p>
<h3>Notes</h3>
<ol type="1">
<li>The code and generated CMake solution should be on local NTFS drive, and can't be on a network drive, including VMWare shared folders - or you will get a errors when you will try to compile/link/run resulting exe.</li>
<li><a class="el" href="namespace_ogre.html" title=" This source file is part of OGRE (Object-oriented Graphics Rendering Engine) For the latest info...">Ogre</a> uses d3dcompiler_xx.dll to compile shaders, and WinStore and WinPhone 8.1 projects can use it without restriction as it is part of OS. But WinStore and WinPhone 8.0 applications should load already compiled shaders from cache, as d3dcompiler_xx.dll is available to them only during development. Therefore to avoid necessity to deploy d3dcompiler_xx.dll during development (additional configurations with d3dcompiler_xx.dll) and generation of such cache - use version 8.1 of these platforms.</li>
<li>Running WinPhone emulator in OS running under VMware: We were able to run the emulation and debug without an issue by using two steps: (a) Under the settings of the VM &gt; CPU, make sure you have the option to pass-through the Intel VT-x/EPT feature, (b) Edit the config file .vmx and add the parameter: hypervisor.cpuid.v0 = "FALSE" All versions of Visual Studio 2012 have a window refresh issue when running in VMware and the window is maximized, the solution is just to change the size of the Visual Studio window to be less the the screen width and height. </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
